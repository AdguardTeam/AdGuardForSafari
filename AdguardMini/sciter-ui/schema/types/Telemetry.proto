syntax = "proto3";

option optimize_for = CODE_SIZE;

// Pageview or custom event.
message TelemetryEvent {
  oneof kind {
    PageView page_view = 1;
    CustomTelemetryEvent custom_event = 2;
  }
}

// Page view. Special type of event, refers to page view.
message PageView {
    // Name of shown page
    string name = 1;
    // Name of referer page
    optional string ref_name = 2;
}

// Custom event. Custom type of event.
message CustomTelemetryEvent {
    // Name of custom event
    string name = 1;
    // Name of page where custom event occurs
    string ref_name = 2;
    optional string action_name = 3;
    optional string label_name = 4;
}
