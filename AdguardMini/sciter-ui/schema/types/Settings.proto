syntax = "proto3";

option optimize_for = CODE_SIZE;

// Describes settings page
message Settings {
    bool launch_on_startup = 1;
    bool show_in_menu_bar = 2;
    bool hardware_acceleration = 3;
    bool auto_filters_update = 4;
    bool real_time_filters_update = 5;
    QuitReaction quitReaction = 6;
    bool debug_logging = 7;
    ReleaseVariants release_variant = 8;
    repeated int32 consent_filters_ids = 9;
    string language = 10;
    bool allow_telemetry = 11;
    Theme theme = 12;
}

message UserConsent {
    repeated int32 filters_ids = 1;
}

enum ReleaseVariants {
    ReleaseVariants_unknown = 0;
    ReleaseVariants_MAS = 1;
    ReleaseVariants_standAlone = 2;
}

enum ImportMode {
    ImportMode_unknown = 0;
    ImportMode_full = 1;
    ImportMode_withoutAnnoyance = 2;
    ImportMode_cancel = 3;
}

message ImportSettingsConfirmation {
    ImportMode mode = 1;
}

message ImportStatus {
    bool success = 1;
    repeated int32 filters_ids = 2;
}

message GlobalSettings {
    bool enabled = 1;
    bool allExtensionEnabled = 2;
    bool newVersionAvailable = 3;
    ReleaseVariants releaseVariant = 4;
    string language = 5;
    bool debug_logging = 6;
    bool recently_migrated = 7;
    bool allow_telemetry = 8;
    Theme theme = 9;
}

message UpdateQuitReactionMessage {
    QuitReaction reaction = 1;
}

enum QuitReaction {
    QuitReaction_unknown = 0;
    QuitReaction_ask = 1;
    QuitReaction_quit = 2;
    QuitReaction_keepRunning = 3;
}

message SafariExtensions {
    SafariExtension general = 1;
    SafariExtension privacy = 2;
    SafariExtension social = 3;
    SafariExtension security = 4;
    SafariExtension other = 5;
    SafariExtension custom = 6;
    SafariExtension adguard_for_safari = 7;
    bool all_extensions_enabled = 8;
}

message SafariExtension {
    string id = 1;
    int32 rules_enabled = 2;
    int32 rules_total = 3;
    SafariExtensionStatus status = 4;
    optional string safari_error = 6;
}

message SafariExtensionUpdate {
    SafariExtensionType type = 1;
    SafariExtension state = 2;
}

enum SafariExtensionType {
    SafariExtensionType_general = 0;
    SafariExtensionType_privacy = 1;
    SafariExtensionType_security = 2;
    SafariExtensionType_social = 3;
    SafariExtensionType_other = 4;
    SafariExtensionType_custom = 5;
    SafariExtensionType_adguard_for_safari = 6;
}

enum SafariExtensionStatus {
    SafariExtensionStatus_unknown = 0;
    SafariExtensionStatus_ok = 1;
    SafariExtensionStatus_loading = 2;
    SafariExtensionStatus_disabled = 3;
    SafariExtensionStatus_limit_exceeded = 4;
    SafariExtensionStatus_converter_error = 5;
    SafariExtensionStatus_safari_error = 6;
}

message UpdateThemeMessage {
    Theme theme = 1;
}

enum Theme {
    Theme_unknown = 0;
    Theme_system = 1;
    Theme_light = 2;
    Theme_dark = 3;
}
